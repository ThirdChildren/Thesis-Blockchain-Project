{
  "_format": "hh-sol-artifact-1",
  "contractName": "Aggregator",
  "sourceName": "contracts/Aggregator.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_commissionRate",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "batteries",
      "outputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "capacity",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "SoC",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isRegistered",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "commissionRate",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_batteryOwner",
          "type": "address"
        }
      ],
      "name": "getBatteryCapacity",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_batteryOwner",
          "type": "address"
        }
      ],
      "name": "getBatterySoC",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_capacity",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_SoC",
          "type": "uint256"
        }
      ],
      "name": "registerBattery",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amountSold",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "_isPositiveReserve",
          "type": "bool"
        }
      ],
      "name": "updateBatterySoCAfterSale",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b506040516110ea3803806110ea8339818101604052810190610032919061007a565b80600181905550506100a7565b600080fd5b6000819050919050565b61005781610044565b811461006257600080fd5b50565b6000815190506100748161004e565b92915050565b6000602082840312156100905761008f61003f565b5b600061009e84828501610065565b91505092915050565b611034806100b66000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c80631bb31c30146100675780633e3959621461009a5780635ea1d6f8146100ca5780637edaff94146100e85780639e9b522c14610118578063b223209f14610134575b600080fd5b610081600480360381019061007c91906109cc565b610150565b6040516100919493929190610a3c565b60405180910390f35b6100b460048036038101906100af91906109cc565b6101ad565b6040516100c19190610a81565b60405180910390f35b6100d26102c8565b6040516100df9190610a81565b60405180910390f35b61010260048036038101906100fd91906109cc565b6102ce565b60405161010f9190610a81565b60405180910390f35b610132600480360381019061012d9190610af4565b6103e9565b005b61014e60048036038101906101499190610b47565b61055a565b005b60006020528060005260406000206000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010154908060020154908060030160009054906101000a900460ff16905084565b60008073ffffffffffffffffffffffffffffffffffffffff166000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141561027f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161027690610bf7565b60405180910390fd5b6000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101549050919050565b60015481565b60008073ffffffffffffffffffffffffffffffffffffffff166000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156103a0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161039790610bf7565b60405180910390fd5b6000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600201549050919050565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508373ffffffffffffffffffffffffffffffffffffffff168160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146104bd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104b490610c63565b60405180910390fd5b811561050157600081600101546064856104d79190610cb2565b6104e19190610d3b565b82600201546104f09190610d6c565b905080826002018190555050610554565b600081600101546064856105159190610cb2565b61051f9190610d3b565b826002015461052e9190610da0565b905060648111156105485760648260020181905550610552565b8082600201819055505b505b50505050565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff16156105e9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105e090610e42565b60405180910390fd5b8273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610657576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161064e90610ed4565b60405180910390fd5b60405180608001604052808473ffffffffffffffffffffffffffffffffffffffff168152602001838152602001828152602001600115158152506000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101556040820151816002015560608201518160030160006101000a81548160ff0219169083151502179055509050506108726040518060400160405280600e81526020017f42617474657279206f776e65723a0000000000000000000000000000000000008152506000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166040518060400160405280600a81526020017f72656769737465726564000000000000000000000000000000000000000000008152506000808873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff16610877565b505050565b610913848484846040516024016108919493929190610f7c565b6040516020818303038152906040527f5f15d28c000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610919565b50505050565b61093081610928610933610954565b63ffffffff16565b50565b60006a636f6e736f6c652e6c6f679050600080835160208501845afa505050565b61095f819050919050565b610967610fcf565b565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006109998261096e565b9050919050565b6109a98161098e565b81146109b457600080fd5b50565b6000813590506109c6816109a0565b92915050565b6000602082840312156109e2576109e1610969565b5b60006109f0848285016109b7565b91505092915050565b610a028161098e565b82525050565b6000819050919050565b610a1b81610a08565b82525050565b60008115159050919050565b610a3681610a21565b82525050565b6000608082019050610a5160008301876109f9565b610a5e6020830186610a12565b610a6b6040830185610a12565b610a786060830184610a2d565b95945050505050565b6000602082019050610a966000830184610a12565b92915050565b610aa581610a08565b8114610ab057600080fd5b50565b600081359050610ac281610a9c565b92915050565b610ad181610a21565b8114610adc57600080fd5b50565b600081359050610aee81610ac8565b92915050565b600080600060608486031215610b0d57610b0c610969565b5b6000610b1b868287016109b7565b9350506020610b2c86828701610ab3565b9250506040610b3d86828701610adf565b9150509250925092565b600080600060608486031215610b6057610b5f610969565b5b6000610b6e868287016109b7565b9350506020610b7f86828701610ab3565b9250506040610b9086828701610ab3565b9150509250925092565b600082825260208201905092915050565b7f4261747465727920646f6573206e6f7420657869737400000000000000000000600082015250565b6000610be1601683610b9a565b9150610bec82610bab565b602082019050919050565b60006020820190508181036000830152610c1081610bd4565b9050919050565b7f42617474657279206e6f7420666f756e64000000000000000000000000000000600082015250565b6000610c4d601183610b9a565b9150610c5882610c17565b602082019050919050565b60006020820190508181036000830152610c7c81610c40565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610cbd82610a08565b9150610cc883610a08565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0483118215151615610d0157610d00610c83565b5b828202905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b6000610d4682610a08565b9150610d5183610a08565b925082610d6157610d60610d0c565b5b828204905092915050565b6000610d7782610a08565b9150610d8283610a08565b925082821015610d9557610d94610c83565b5b828203905092915050565b6000610dab82610a08565b9150610db683610a08565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115610deb57610dea610c83565b5b828201905092915050565b7f4261747465727920616c72656164792072656769737465726564000000000000600082015250565b6000610e2c601a83610b9a565b9150610e3782610df6565b602082019050919050565b60006020820190508181036000830152610e5b81610e1f565b9050919050565b7f4f6e6c7920746865206f776e65722063616e207265676973746572207468652060008201527f6261747465727900000000000000000000000000000000000000000000000000602082015250565b6000610ebe602783610b9a565b9150610ec982610e62565b604082019050919050565b60006020820190508181036000830152610eed81610eb1565b9050919050565b600081519050919050565b60005b83811015610f1d578082015181840152602081019050610f02565b83811115610f2c576000848401525b50505050565b6000601f19601f8301169050919050565b6000610f4e82610ef4565b610f588185610b9a565b9350610f68818560208601610eff565b610f7181610f32565b840191505092915050565b60006080820190508181036000830152610f968187610f43565b9050610fa560208301866109f9565b8181036040830152610fb78185610f43565b9050610fc66060830184610a2d565b95945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052605160045260246000fdfea2646970667358221220120b4aed0336fd05ab6f133a0df904b878c31dbe11a349ca2bd1149c4ff1e49864736f6c63430008090033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c80631bb31c30146100675780633e3959621461009a5780635ea1d6f8146100ca5780637edaff94146100e85780639e9b522c14610118578063b223209f14610134575b600080fd5b610081600480360381019061007c91906109cc565b610150565b6040516100919493929190610a3c565b60405180910390f35b6100b460048036038101906100af91906109cc565b6101ad565b6040516100c19190610a81565b60405180910390f35b6100d26102c8565b6040516100df9190610a81565b60405180910390f35b61010260048036038101906100fd91906109cc565b6102ce565b60405161010f9190610a81565b60405180910390f35b610132600480360381019061012d9190610af4565b6103e9565b005b61014e60048036038101906101499190610b47565b61055a565b005b60006020528060005260406000206000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010154908060020154908060030160009054906101000a900460ff16905084565b60008073ffffffffffffffffffffffffffffffffffffffff166000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141561027f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161027690610bf7565b60405180910390fd5b6000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101549050919050565b60015481565b60008073ffffffffffffffffffffffffffffffffffffffff166000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156103a0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161039790610bf7565b60405180910390fd5b6000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600201549050919050565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508373ffffffffffffffffffffffffffffffffffffffff168160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146104bd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104b490610c63565b60405180910390fd5b811561050157600081600101546064856104d79190610cb2565b6104e19190610d3b565b82600201546104f09190610d6c565b905080826002018190555050610554565b600081600101546064856105159190610cb2565b61051f9190610d3b565b826002015461052e9190610da0565b905060648111156105485760648260020181905550610552565b8082600201819055505b505b50505050565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff16156105e9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105e090610e42565b60405180910390fd5b8273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610657576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161064e90610ed4565b60405180910390fd5b60405180608001604052808473ffffffffffffffffffffffffffffffffffffffff168152602001838152602001828152602001600115158152506000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101556040820151816002015560608201518160030160006101000a81548160ff0219169083151502179055509050506108726040518060400160405280600e81526020017f42617474657279206f776e65723a0000000000000000000000000000000000008152506000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166040518060400160405280600a81526020017f72656769737465726564000000000000000000000000000000000000000000008152506000808873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff16610877565b505050565b610913848484846040516024016108919493929190610f7c565b6040516020818303038152906040527f5f15d28c000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610919565b50505050565b61093081610928610933610954565b63ffffffff16565b50565b60006a636f6e736f6c652e6c6f679050600080835160208501845afa505050565b61095f819050919050565b610967610fcf565b565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006109998261096e565b9050919050565b6109a98161098e565b81146109b457600080fd5b50565b6000813590506109c6816109a0565b92915050565b6000602082840312156109e2576109e1610969565b5b60006109f0848285016109b7565b91505092915050565b610a028161098e565b82525050565b6000819050919050565b610a1b81610a08565b82525050565b60008115159050919050565b610a3681610a21565b82525050565b6000608082019050610a5160008301876109f9565b610a5e6020830186610a12565b610a6b6040830185610a12565b610a786060830184610a2d565b95945050505050565b6000602082019050610a966000830184610a12565b92915050565b610aa581610a08565b8114610ab057600080fd5b50565b600081359050610ac281610a9c565b92915050565b610ad181610a21565b8114610adc57600080fd5b50565b600081359050610aee81610ac8565b92915050565b600080600060608486031215610b0d57610b0c610969565b5b6000610b1b868287016109b7565b9350506020610b2c86828701610ab3565b9250506040610b3d86828701610adf565b9150509250925092565b600080600060608486031215610b6057610b5f610969565b5b6000610b6e868287016109b7565b9350506020610b7f86828701610ab3565b9250506040610b9086828701610ab3565b9150509250925092565b600082825260208201905092915050565b7f4261747465727920646f6573206e6f7420657869737400000000000000000000600082015250565b6000610be1601683610b9a565b9150610bec82610bab565b602082019050919050565b60006020820190508181036000830152610c1081610bd4565b9050919050565b7f42617474657279206e6f7420666f756e64000000000000000000000000000000600082015250565b6000610c4d601183610b9a565b9150610c5882610c17565b602082019050919050565b60006020820190508181036000830152610c7c81610c40565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610cbd82610a08565b9150610cc883610a08565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0483118215151615610d0157610d00610c83565b5b828202905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b6000610d4682610a08565b9150610d5183610a08565b925082610d6157610d60610d0c565b5b828204905092915050565b6000610d7782610a08565b9150610d8283610a08565b925082821015610d9557610d94610c83565b5b828203905092915050565b6000610dab82610a08565b9150610db683610a08565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115610deb57610dea610c83565b5b828201905092915050565b7f4261747465727920616c72656164792072656769737465726564000000000000600082015250565b6000610e2c601a83610b9a565b9150610e3782610df6565b602082019050919050565b60006020820190508181036000830152610e5b81610e1f565b9050919050565b7f4f6e6c7920746865206f776e65722063616e207265676973746572207468652060008201527f6261747465727900000000000000000000000000000000000000000000000000602082015250565b6000610ebe602783610b9a565b9150610ec982610e62565b604082019050919050565b60006020820190508181036000830152610eed81610eb1565b9050919050565b600081519050919050565b60005b83811015610f1d578082015181840152602081019050610f02565b83811115610f2c576000848401525b50505050565b6000601f19601f8301169050919050565b6000610f4e82610ef4565b610f588185610b9a565b9350610f68818560208601610eff565b610f7181610f32565b840191505092915050565b60006080820190508181036000830152610f968187610f43565b9050610fa560208301866109f9565b8181036040830152610fb78185610f43565b9050610fc66060830184610a2d565b95945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052605160045260246000fdfea2646970667358221220120b4aed0336fd05ab6f133a0df904b878c31dbe11a349ca2bd1149c4ff1e49864736f6c63430008090033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
